set $alt Mod1
set $ctrl Control
set $super Mod4
set $up w
set $down s
set $left a
set $right d

set $bg #2f343f
set $fg #f3f4f5
set $bg-attn #676e7d
set $fg-attn #ffffff
font pango:DejaVu Sans 10

floating_modifier $super

bindsym $super+x                kill
bindsym $super+Escape           exec dmenu-json "$HOME/projects/scripts/menu/system.json"
bindsym $super+i                exec dmenu-pass
bindsym $super+l                exec dmenu-thesaurus
bindsym $super+$alt+p           exec dmenu-mpv
bindsym $super+p                exec --no-startup-id dmenu-mpv --toggle
bindsym $super+backslash        exec --no-startup-id toggle-pointer
bindsym Print                   exec --no-startup-id scrot "$HOME/screen-%Y-%m-%dT%H-%M-%S.png"
bindsym $super+equal            exec --no-startup-id amixer -q sset Master 3%+
bindsym $super+minus            exec --no-startup-id amixer -q sset Master 3%-
bindsym XF86AudioRaiseVolume    exec --no-startup-id amixer -q sset Master 3%+
bindsym XF86AudioLowerVolume    exec --no-startup-id amixer -q sset Master 3%-
bindsym XF86AudioMute           exec --no-startup-id amixer -q sset Master toggle
bindsym XF86AudioPlay           exec --no-startup-id dmenu-mpv --pause
bindsym XF86AudioPause          exec --no-startup-id dmenu-mpv --play
bindsym XF86AudioNext           exec --no-startup-id dmenu-mpv --next
bindsym XF86AudioPrev           exec --no-startup-id dmenu-mpv --previous
bindsym XF86MonBrightnessDown   exec --no-startup-id xbacklight -2%
bindsym XF86MonBrightnessUp     exec --no-startup-id xbacklight +2%
bindsym $super+$alt+minus       exec --no-startup-id xbacklight -2%
bindsym $super+$alt+equal       exec --no-startup-id xbacklight +2%
bindsym XF86KbdBrightnessDown   exec --no-startup-id set-kbd-backlight 0
bindsym XF86KbdBrightnessUp     exec --no-startup-id set-kbd-backlight 3

bindsym $super+semicolon exec cd "`xcwd`" && dmenu_run -p "`dirs +0` $" $DMENU_ARGS
bindsym $super+t fullscreen disable; exec urxvt -cd "`xcwd`"
bindsym $super+f fullscreen disable; exec urxvt -e vifm "`xcwd`"
bindsym $super+r fullscreen disable; exec zathura
bindsym $super+g fullscreen disable; exec firefox
bindsym $super+c fullscreen disable; exec telegram-desktop
bindsym $super+m fullscreen disable; exec urxvt -e mutt


bindsym $super+BackSpace mode "resize"

set $step 10 px or 2 ppt
mode "resize" {
    bindsym $left mode "resize-left"
    bindsym $right mode "resize-right"
    bindsym $up mode "resize-up"
    bindsym $down mode "resize-down"
    bindsym Escape mode "default"
    bindsym Return mode "default"
}
mode "resize-left" {
    bindsym $left resize grow left $step
    bindsym $right resize shrink left $step
    bindsym $up mode "resize-up"
    bindsym $down mode "resize-down"
    bindsym Escape mode "default"
    bindsym Return mode "default"
}
mode "resize-right" {
    bindsym $right resize grow right $step
    bindsym $left resize shrink right $step
    bindsym $up mode "resize-up"
    bindsym $down mode "resize-down"
    bindsym Escape mode "default"
    bindsym Return mode "default"
}
mode "resize-up" {
    bindsym $up resize grow up $step
    bindsym $down resize shrink up $step
    bindsym $left mode "resize-left"
    bindsym $right mode "resize-right"
    bindsym Escape mode "default"
    bindsym Return mode "default"
}
mode "resize-down" {
    bindsym $down resize grow down $step
    bindsym $up resize shrink down $step
    bindsym $left mode "resize-left"
    bindsym $right mode "resize-right"
    bindsym Escape mode "default"
    bindsym Return mode "default"
}


bindsym $super+$left fullscreen disable; focus left
bindsym $super+$down fullscreen disable; focus down
bindsym $super+$up fullscreen disable; focus up
bindsym $super+$right fullscreen disable; focus right
bindsym $super+q focus parent
bindsym $super+e focus child
bindsym $super+$alt+$left fullscreen disable; move left
bindsym $super+$alt+$down fullscreen disable; move down
bindsym $super+$alt+$up fullscreen disable; move up
bindsym $super+$alt+$right fullscreen disable; move right

bindsym $super+Return fullscreen toggle
bindsym $super+$alt+Return bar mode toggle

bindsym $super+j focus mode_toggle 
bindsym $super+$alt+j floating toggle

bindsym $super+n split vertical

bindsym $super+y layout tabbed
bindsym $super+u layout splitv
bindsym $super+h layout splith


# Workspace ###################################################################

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws0 "10"

# switch to workspace
bindsym $super+comma workspace prev
bindsym $super+period workspace next
bindsym $super+space scratchpad show
bindsym $super+1 workspace $ws1
bindsym $super+2 workspace $ws2
bindsym $super+3 workspace $ws3
bindsym $super+4 workspace $ws4
bindsym $super+5 workspace $ws5
bindsym $super+6 workspace $ws6
bindsym $super+7 workspace $ws7
bindsym $super+8 workspace $ws8
bindsym $super+9 workspace $ws9
bindsym $super+0 workspace $ws0

# move focused container to workspace
bindsym $super+$alt+comma move container to workspace prev; workspace prev
bindsym $super+$alt+period move container to workspace next; workspace next
bindsym $super+$alt+space move scratchpad; scratchpad show
bindsym $super+$alt+1 floating disable; move container to workspace $ws1; workspace $ws1
bindsym $super+$alt+2 floating disable; move container to workspace $ws2; workspace $ws2
bindsym $super+$alt+3 floating disable; move container to workspace $ws3; workspace $ws3
bindsym $super+$alt+4 floating disable; move container to workspace $ws4; workspace $ws4
bindsym $super+$alt+5 floating disable; move container to workspace $ws5; workspace $ws5
bindsym $super+$alt+6 floating disable; move container to workspace $ws6; workspace $ws6
bindsym $super+$alt+7 floating disable; move container to workspace $ws7; workspace $ws7
bindsym $super+$alt+8 floating disable; move container to workspace $ws8; workspace $ws8
bindsym $super+$alt+9 floating disable; move container to workspace $ws9; workspace $ws9
bindsym $super+$alt+0 floating disable; move container to workspace $ws0; workspace $ws0




# Aesthetics ##################################################################

new_window pixel 2
new_float pixel 15
hide_edge_borders smart
popup_during_fullscreen leave_fullscreen
default_orientation horizontal
workspace_layout default

#                       border     background text      indicator  child-border
client.focused          $bg-attn   $bg-attn   $fg-attn  $bg-attn   $bg-attn 
client.unfocused        $bg        $bg        $fg       $bg-attn   $bg
client.focused_inactive $bg        $bg        $fg       $bg-attn   $bg
client.urgent           $bg-attn   $bg-attn   $fg-attn  $bg-attn   $bg


exec_always --no-startup-id pkill polybar; polybar i3
exec --no-startup-id nm-applet

# also set setxkbmap -option compose:menu
# cf. https://github.com/rvaiya/keyd/issues/177#issuecomment-1092064707
[ids]

# Microsoft Keyboard
045e:07a5
# Laptop keyboard
0001:0001
# Corne
4653:0001
# Olympus RS28H Foot switch
07b4:0293


[global]
chord_timeout = 50
overload_tap_timeout = 300
oneshot_timeout = 1000


[main]
capslock = backspace
leftshift = oneshot(shift)
leftcontrol = overload(control, enter)
leftmeta = overload(alt, compose)
leftalt = overload(meta_nav, escape)
rightalt = oneshot(symbol)
rightshift = \


##############################################################################

[shift]
leftshift = togglem(shift_toggled, capslock)
,+. = macro(< > left)

[shift_toggled]
leftshift = overload(shift, clearm(capslock))


##############################################################################

[symbol]
rightalt = toggle(symbol_toggled)
q = &
w = [
e = ]
w+e = macro([ ] left)
r = *
t = #
y = %
u = 7
i = 8
o = 9
p = ^
[ = @

a = |
s = (
d = )
s+d = macro(( ) left)
f = -
g = =
h = ~
j = 4
k = 5
l = 6
; = $
' = `

z = !
x = {
c = }
x+c = macro({ } left)
v = _
b = +
n = 0
m = 1
, = 2
. = 3
/ = /
rightshift = \

[symbol_toggled]
# rightalt = overload(main, clear())
rightalt = clear()
q = &
w = [
e = ]
w+e = macro([ ] left)
r = *
t = #
y = %
u = 7
i = 8
o = 9
p = ^
[ = @

a = |
s = (
d = )
s+d = macro(( ) left)
f = -
g = =
h = ~
j = 4
k = 5
l = 6
; = $
' = `

z = !
x = {
c = }
x+c = macro({ } left)
v = _
b = +
n = 0
m = 1
, = 2
. = 3
/ = /
rightshift = \

##############################################################################

[meta_nav:M]
leftalt = overload(meta_func, M-space)
q = home
w = up
e = end
r = pageup
a = left
s = down
d = right
f = pagedown
c = compose

[meta_func:M]
u = f7
i = f8
o = f9
p = f10
j = f4
k = f5
l = f6
; = f11
m = f1
, = f2
. = f3
/ = f12


